{"version":3,"sources":["components/hoc/withAuthRedirect.jsx","components/Dialogs/Dialogs.module.css","components/Dialogs/DialogItem/DialogItem.jsx","components/Dialogs/Messages/Messages.jsx","components/Dialogs/Dialogs.jsx","components/Dialogs/DialogsContainer.jsx"],"names":["mapStateToPropsForRedirect","state","isAuth","auth","WithAuthRedirect","Component","RedirectComponent","this","props","to","React","connect","module","exports","DialogItem","className","CssDialogs","dialog","id","name","Messages","message","maxLength30","maxLengthCreator","AddMessageReduxForm","reduxForm","form","onSubmit","handleSubmit","Field","component","Textarea","placeholder","validate","required","Dialogs","dialogsPage","dialogsElements","dialogs","map","d","messagesElements","messages","m","styles","dialogsItems","values","addMessage","newMessageBody","compose","dispatch","sendMessage"],"mappings":"2NAIIA,EAA6B,SAACC,GAAD,MAAY,CACzCC,OAAQD,EAAME,KAAKD,SAGVE,EAAmB,SAACC,GAAe,IACtCC,EADqC,4JAEvC,WACI,OAAKC,KAAKC,MAAMN,OACT,cAACG,EAAD,eAAeE,KAAKC,QADI,cAAC,IAAD,CAAUC,GAAG,eAHT,GACXC,IAAML,WAUtC,OAHqCM,YAASX,EAATW,CAAqCL,K,oBCf9EM,EAAOC,QAAU,CAAC,QAAU,yBAAyB,aAAe,8BAA8B,SAAW,4B,oHCc9FC,EAVI,SAACN,GAChB,OACI,qBAAKO,UAAWC,IAAWC,OAA3B,SACI,cAAC,IAAD,CAASR,GAAI,YAAcD,EAAMU,GAAjC,SAAsCV,EAAMW,UCKzCC,EATE,SAACZ,GACd,OACI,qBAAKO,UAAWC,IAAWK,QAA3B,SACKb,EAAMa,W,kCCEbC,EAAcC,YAAiB,IAkC/BC,EAAsBC,YAAW,CAACC,KAAM,wBAAlBD,EAZL,SAACjB,GACpB,OACI,uBAAMmB,SAAUnB,EAAMoB,aAAtB,UACI,cAACC,EAAA,EAAD,CAAOC,UAAWC,IAAUZ,KAAK,iBAAiBa,YAAY,qBAC9DC,SAAU,CAACC,IAAUZ,KACrB,8BACI,yDAQDa,EAnCC,SAAC3B,GACb,IAAI4B,EAAc5B,EAAM4B,YAMpBC,EAAkBD,EAAYE,QAAQC,KAAI,SAAAC,GAAC,OAAI,cAAC,EAAD,CAAYrB,KAAMqB,EAAErB,KAAiBD,GAAIsB,EAAEtB,IAAZsB,EAAEtB,OAChFuB,EAAmBL,EAAYM,SAASH,KAAI,SAAAI,GAAC,OAAI,cAAC,EAAD,CAAUtB,QAASsB,EAAEtB,SAAcsB,EAAEzB,OAE1F,OACI,sBAAKH,UAAW6B,IAAON,QAAvB,UACI,qBAAKvB,UAAW6B,IAAOC,aAAvB,SAAsCR,IAEtC,sBAAKtB,UAAW6B,IAAOF,SAAvB,UAAkCD,EAC9B,cAACjB,EAAD,CAAqBG,SAZb,SAACmB,GACjBtC,EAAMuC,WAAWD,EAAOE,0BCQjBC,sBACXtC,aAhBkB,SAACV,GACnB,MAAO,CACHmC,YAAanC,EAAMmC,gBAIF,SAACc,GACtB,MAAO,CACHH,WAAY,SAACC,GACTE,EAASC,YAAYH,SAQ7B5C,IAFW6C,CAGbd","file":"static/js/4.8bfd2984.chunk.js","sourcesContent":["import React from \"react\"\r\nimport { connect } from \"react-redux\";\r\nimport { Navigate } from \"react-router-dom\";\r\n\r\nlet mapStateToPropsForRedirect = (state) => ({\r\n    isAuth: state.auth.isAuth\r\n});\r\n\r\nexport const WithAuthRedirect = (Component) => {\r\n    class RedirectComponent extends React.Component {\r\n        render() {\r\n            if (!this.props.isAuth) return <Navigate to=\"/login\"/>\r\n            return <Component {...this.props}  />  \r\n        }\r\n    }\r\n\r\n    let ConnectedAuthRedirectComponent = connect (mapStateToPropsForRedirect)(RedirectComponent)\r\n\r\n\r\n    return ConnectedAuthRedirectComponent;\r\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dialogs\":\"Dialogs_dialogs__1WPZu\",\"dialogsItems\":\"Dialogs_dialogsItems__3lgde\",\"messages\":\"Dialogs_messages__xUW1d\"};","import React from \"react\";\r\nimport { NavLink } from \"react-router-dom\";\r\nimport CssDialogs from \"./../Dialogs.module.css\";\r\n\r\n\r\nconst DialogItem = (props) => {\r\n    return (\r\n        <div className={CssDialogs.dialog}>\r\n            <NavLink to={\"/dialogs/\" + props.id}>{props.name}</NavLink>\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\n\r\nexport default DialogItem;","import React from \"react\";\r\nimport CssDialogs from \"./../Dialogs.module.css\";\r\n\r\n\r\nconst Messages = (props) => {\r\n    return (\r\n        <div className={CssDialogs.message}>\r\n            {props.message}\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\nexport default Messages;","import React from \"react\";\r\nimport DialogItem from \"./DialogItem/DialogItem\";\r\nimport styles from \"./Dialogs.module.css\";\r\nimport Messages from \"./Messages/Messages\";\r\nimport { Field, reduxForm } from \"redux-form\";\r\nimport { Textarea } from \"../common/FormsControls/FormsControls\";\r\nimport { maxLengthCreator, required } from \"../validators/validator\";\r\n\r\n\r\nconst maxLength30 = maxLengthCreator(30);\r\nconst Dialogs = (props) => {\r\n    let dialogsPage = props.dialogsPage;\r\n\r\n    let addNewMessage = (values) => {\r\n        props.addMessage(values.newMessageBody);  \r\n    }\r\n\r\n    let dialogsElements = dialogsPage.dialogs.map(d => <DialogItem name={d.name} key={d.id} id={d.id} />);\r\n    let messagesElements = dialogsPage.messages.map(m => <Messages message={m.message} key={m.id} />);\r\n\r\n    return (\r\n        <div className={styles.dialogs}>\r\n            <div className={styles.dialogsItems}>{dialogsElements}\r\n            </div>\r\n            <div className={styles.messages}>{messagesElements}\r\n                <AddMessageReduxForm onSubmit={addNewMessage} />\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nconst AddMessageForm = (props) => {\r\n    return (\r\n        <form onSubmit={props.handleSubmit}>\r\n            <Field component={Textarea} name=\"newMessageBody\" placeholder=\"Enter your message\"\r\n            validate={[required, maxLength30]} />\r\n            <div>\r\n                <button>Add message</button>\r\n            </div>\r\n        </form>\r\n    )\r\n}\r\n\r\nconst AddMessageReduxForm = reduxForm ({form: 'dialogAddMessageForm'})(AddMessageForm);\r\n\r\nexport default Dialogs;","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { compose } from \"redux\";\r\nimport { sendMessage } from '../../redux/dialogsReducer'\r\nimport { WithAuthRedirect } from \"../hoc/withAuthRedirect\";\r\nimport Dialogs from \"./Dialogs\";\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n        dialogsPage: state.dialogsPage\r\n    }\r\n}\r\n\r\nlet mapDispatchToProps = (dispatch) => {\r\n    return {\r\n        addMessage: (newMessageBody) => {\r\n            dispatch(sendMessage(newMessageBody));\r\n        }\r\n    }\r\n\r\n}\r\n\r\nexport default compose(\r\n    connect(mapStateToProps, mapDispatchToProps),\r\n    WithAuthRedirect\r\n)(Dialogs)\r\n"],"sourceRoot":""}